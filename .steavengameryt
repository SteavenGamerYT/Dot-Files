# Path Customization
# This loop adds specified directories to the PATH if they exist
for dir in "$HOME/.bin" "$HOME/.local/bin" "$HOME/Applications" "/var/lib/flatpak/exports/bin" "$HOME/.spicetify" "/home/linuxbrew/.linuxbrew/bin"; do
  [ -d "$dir" ] && PATH="$dir:$PATH"
done

# Cleanup of home directory
# Setting up environment variables for user data, config, state, and cache
export XDG_DATA_HOME="$HOME/.local/share"
export XDG_CONFIG_HOME="$HOME/.config"
export XDG_STATE_HOME="$HOME/.local/state"
export XDG_CACHE_HOME="$HOME/.cache"

# Custom directory for dotfiles and specific applications
export DOT_FOLDER="$HOME/.dot-folders"
export ANDROID_HOME="$DOT_FOLDER/android"
export WINEPREFIX="$DOT_FOLDER/wine"
export _JAVA_OPTIONS="-Djava.util.prefs.userRoot=$DOT_FOLDER/java"
export CUDA_CACHE_PATH="$XDG_CACHE_HOME/nv"
export GTK2_RC_FILES="$XDG_CONFIG_HOME/gtk-2.0/gtkrc"

# Alias to use a custom HSTS file with wget
alias wget='wget --hsts-file="$XDG_DATA_HOME/wget-hsts"'

# Directory for storing screenshots
export XDG_SCREENSHOTS_DIR="$HOME/Pictures/Screenshots"
# Terminal Settings
# Set the terminal type to support 256 colors and set the default editor to nano
export TERM="xterm-256color"
export EDITOR=nano

# Aliases for File and Directory Operations
# Enhance the output of 'ls' and add safety prompts to file operations
alias ll='ls -all --color=auto -h'
alias cp='cp -i'
alias mv='mv -i'
alias rm='trash -v'  # Use 'trash' instead of 'rm' for safer file deletion
alias mkdir='mkdir -p'
alias ps='ps auxf'
alias ping='ping -c 10'
alias less='less -R'
alias cls='clear && colorscript -r'  # Clear the screen and run a color script
alias clear='/bin/clear && colorscript -r'
alias multitail='multitail --no-repeat -c'
alias freshclam='sudo freshclam'  # Run freshclam with sudo

# Text Editors
# Set aliases for using 'nvim' as the default vim editor with a specific configuration
alias vi='nvim -u ~/Documents/GitHub/dot-files/vim-nano/nano.vim'
alias svi='sudo vi'
alias vis='nvim -u ~/Documents/GitHub/dot-files/vim-nano/nano.vim "+set si"'
alias vim='nvim -u ~/Documents/GitHub/dot-files/vim-nano/nano.vim'

# Archive Aliases
# Simplify the creation and extraction of various archive formats
alias mktar='tar -cvf'
alias mkbz2='tar -cvjf'
alias mkgz='tar -cvzf'
alias untar='tar -xvf'
alias unbz2='tar -xvjf'
alias ungz='tar -xvzf'

# History Aliases
# Enhance history search functionality
alias h='history'
alias hs='history | grep'
alias hsi='history | grep -i'

# Clipboard Operations
# Simplify clipboard operations using 'xclip'
alias pbcopy='xclip -selection clipboard'
alias pbpaste='xclip -selection clipboard -o'
alias copydir='pwd | tr -d "\r\n" | pbcopy'

# GNOME Text Editor
# Set aliases for opening GNOME text editor
alias gedit='gnome-text-editor'
alias sudo-gedit='sudo gnome-text-editor'

# Neofetch Customization
# Customize neofetch output with different ASCII art
alias neofetch='/bin/neowofetch'
alias neofetch-big='/bin/neowofetch --ascii ~/.config/neofetch/cat.txt | lolcat'
alias neofetch-small='/bin/neowofetch --ascii ~/.config/neofetch/cat2.txt | lolcat'
alias neofetch-big2='/bin/neowofetch --ascii ~/.config/neofetch/steaven.txt | lolcat'
alias neofetch-small2='/bin/neowofetch --ascii ~/.config/neofetch/steaven2.txt | lolcat'
alias neofetch-art='/bin/neowofetch --caca ~/.config/neofetch/Toad_Artwork_-_Super_Mario_3D_World.png'
alias neofetch-image='/bin/neofetch --sixel ~/.config/neofetch/Toad_Artwork_-_Super_Mario_3D_World.png | lolcat'

# Antivirus Update
# Alias for updating antivirus definitions
alias antivirus-update='freshclam'

# looking-glass
# Aliases for running looking-glass with specific configurations
alias looking-glass-opengl='looking-glass-client -m 97 -g OpenGL'
alias looking-glass-egl='looking-glass-client -m 97 -g EGL'

# supergxctl 
# Aliases for managing GPU modes
alias gpulinux='supergfxctl -m Hybrid && logout'
alias gpudis='supergfxctl -m Integrated && logout'
alias gpuwindows='supergfxctl -m Vfio'

# yt-dlp Aliases
# Aliases for downloading audio and video using yt-dlp with specific formats and options
alias yta-aac="yt-dlp --extract-audio --audio-format aac --embed-metadata --embed-thumbnail "
alias yta-best="yt-dlp --extract-audio --audio-format best --embed-metadata --embed-thumbnail "
alias yta-flac="yt-dlp --extract-audio --audio-format flac --embed-metadata --embed-thumbnail "
alias yta-m4a="yt-dlp --extract-audio --audio-format m4a --embed-metadata --embed-thumbnail "
alias yta-mp3="yt-dlp --extract-audio --audio-format mp3 --embed-metadata --embed-thumbnail "
alias yta-opus="yt-dlp --extract-audio --audio-format opus --embed-metadata --embed-thumbnail "
alias yta-vorbis="yt-dlp --extract-audio --audio-format vorbis --embed-metadata --embed-thumbnail "
alias yta-wav="yt-dlp --extract-audio --audio-format wav --embed-metadata --embed-thumbnail "
alias ytv-best="yt-dlp -f bestvideo+bestaudio --embed-metadata --embed-thumbnail --embed-chapters --audio-multistreams"
alias ytv-best-mp4='yt-dlp -f "bestvideo[ext=mp4]+bestaudio[ext=m4a]/best[ext=mp4]/best" --embed-metadata --embed-thumbnail --embed-chapters --audio-multistreams'
alias ytv-best-mp4-1080p='yt-dlp -f "bestvideo[height<=1080][ext=mp4]+bestaudio[ext=m4a]/best[ext=mp4]/best" --embed-metadata --embed-thumbnail --embed-chapters'
alias ytv-best-audio="yt-dlp -f bestvideo+bestaudio --embed-metadata --embed-thumbnail --embed-chapters --merge-output-format mkv"

# Play video files in current dir by type
# Aliases for playing different video file formats using VLC
alias playavi='vlc *.avi'
alias playmov='vlc *.mov'
alias playmp4='vlc *.mp4'

# human readable sizes
# Aliases for displaying disk usage and free space in human-readable formats
alias df='df -h'                          # human-readable sizes
alias free='free -m'                      # show sizes in MB

# udo mastake fix
# Correct common typo for 'sudo'
alias udo='sudo'

# Colorize Grep Output
# Enhance grep output with color
alias grep='grep --color=auto'
alias egrep='egrep --color=auto'
alias fgrep='fgrep --color=auto'

# Display Open Ports
# Alias for displaying open ports
alias openports='netstat -nape --inet'

# Reboot Aliases
# Aliases for safe and forced reboot
alias rebootsafe='sudo shutdown -r now'
alias rebootforce='sudo shutdown -r -n now'

# GIT Customizations
# Functions for simplifying git operations
gitpush() {
    git add .
    git commit -m "$*"
    git pull
    git push
}

gitupdate() {
    eval "$(ssh-agent -s)"
    ssh-add ~/.ssh/github
    ssh -T git@github.com
}

git-push() {
    git add .
    git commit -m "$1"
    git push
}

gitcommit() {
    git add .
    git commit -m "$1"
}

# Aliases for GIT
# Simplify common git commands
alias gp='gitpush'
alias gu='gitupdate'
alias gpush='git-push'
alias gcommit='gitcommit'

# Directory and Navigation Aliases
# Functions and aliases for navigating to specific directories
cdgit() {
    z ~/Documents/GitHub/"$1"
}

alias cdgitf='z ~/Documents/GitHub'
alias cddot='z ~/Documents/GitHub/dot-files'

# Change directory aliases
# Aliases for quickly changing to common directories
alias web='z /var/www/html'
alias home='z ~'

# cd into the old directory
# Alias for returning to the previous directory
alias bd='cd "$OLDPWD"'

# Search files in the current folder
# Alias for finding files in the current directory
alias f="find . | grep "

# Count all files (recursively) in the current folder
# Alias for counting different types of files in the current directory
alias countfiles="for t in files links directories; do echo \`find . -type \${t:0:1} | wc -l\` \$t; done 2> /dev/null"

# To see if a command is aliased, a file, or a built-in command
# Alias for checking the type of a command
alias checkcommand="type -t"

# Disk Space and Usage
# Aliases for checking disk space and usage
alias diskspace="du -S -h | sort -n -r |more"
alias folders='du -h --max-depth=1'
alias folderssort='find . -maxdepth 1 -type d -print0 | xargs -0 du -sk | sort -rn'
alias tree='tree -CAhF --dirsfirst'
alias treed='tree -CAFd'
alias mountedinfo='df -hT'

# XLS Clients Fix
# Alias for listing XWayland clients
alias xwayland-apps='xlsclients'
alias watch-xwayland-apps='watch xlsclients'

# Pacman and Yay Aliases
# Aliases for managing packages with Pacman and Yay
alias pacman='sudo pacman'                       # Fixs pacman when its not runed as sudo
alias pacsyu='sudo pacman -Syu'                  # update only standard pkgs
alias pacsyyu='sudo pacman -Syyu'                # Refresh pkglist & update standard pkgs
alias yaysua='yay -Sua --noconfirm'              # update only AUR pkgs (yay)
alias yaysyu='yay -Syu --noconfirm'              # update standard pkgs and AUR pkgs (yay)
alias parsua='paru -Sua --noconfirm'             # update only AUR pkgs (paru)
alias parsyu='paru -Syu --noconfirm'             # update standard pkgs and AUR pkgs (paru)
alias unlock='sudo rm /var/lib/pacman/db.lck'    # remove pacman lock
alias cleanup='sudo pacman -Rns $(pacman -Qtdq)' # remove orphaned packages

# Flatpak Aliases
# Aliases for managing Flatpak themes and updates
alias theme-flatpak='~/Documents/GitHub/dot-files/flatpak/stylepak install-system'
alias flatpak-update-font-cache='~/Documents/GitHub/dot-files/flatpak/flatpak-font.sh'

# SSH and System Update Aliases
# Aliases for updating systems via SSH
updatearch="yay -Syu --noconfirm --needed && sudo flatpak update -y"
updatefedora="sudo dnf update -y && sudo flatpak update -y"
updatedebian="sudo nala upgrade -y && sudo flatpak update -y"
alias update-all="ssh -t omar-pc '${updatearch}' && ssh -t omar-gaminglaptop '${updatearch}'"
dotfiles='cd ~/Documents/GitHub/dot-files && git pull && cd'
alias update-dotfiles="ssh -t omar-pc '${dotfiles}' && ssh -t omar-gaminglaptop '${dotfiles}'"

# Cache Fix
# Ensure the XDG_CACHE_HOME environment variable is set
export XDG_CACHE_HOME="${XDG_CACHE_HOME:-$HOME/.cache}"

# Konsole Fix
# Function for running bash in Konsole with a custom command
bash_in_konsole() {
  local IFS
  konsole -e bash --rcfile <(printf '. ~/.bashrc; set -m; %s\n' "$*")
}

# Batcat
# Alias for using 'batcat' as the default 'cat' command
alias cat='batcat'

function ix() {
  local file="$1"
  curl -F "f:1=@$file" ix.io
}

# Check for Color Script
# Check if the colorscript command is available and run it
if command -v colorscript &> /dev/null; then
  colorscript -r
else
  echo "Can't find the Shell Color script"
fi
stv-install() {
    if [[ $1 == "-v" ]]; then
        x=$@
        if [[ $2 == "arch" ]]; then
            x=${x/-v arch/}
            distrobox-enter -H arch -- sudo pacman $x
        elif [[ $2 == "ubuntu" ]]; then
            x=${x/-v ubuntu/}
            distrobox-enter -H ubuntu -- sudo apt $x
        elif [[ $2 == "fedora" ]]; then
            x=${x/-v fedora/}
            distrobox-enter -H fedora -- sudo dnf $x
        elif [[ $2 == "opensuse" ]]; then
            x=${x/-v opensuse/}
            distrobox-enter -H opensuse -- sudo zypper $x
        else
            echo "Command Not Found"
        fi
    fi
}

stv() {
    if [[ $1 == "-v" ]]; then
        x=$@
        if [[ $2 == "arch" ]]; then
            x=${x/-v arch/}
            distrobox-enter -H arch $x
        elif [[ $2 == "ubuntu" ]]; then
            x=${x/-v ubuntu/}
            distrobox-enter -H ubuntu -- $x
        elif [[ $2 == "fedora" ]]; then
            x=${x/-v fedora/}
            distrobox-enter -H fedora -- $x
        elif [[ $2 == "opensuse" ]]; then
            x=${x/-v opensuse/}
            distrobox-enter -H opensuse -- $x
        else
            echo "Command Not Found"
        fi
    fi
}
function ix {
  curl -F "f:1=@$1" ix.io
}

function 0x0 {
  curl -F "file=@$1" https://0x0.st
}

# Aliases for managing audio combining and uncombining
alias combine-audio='pactl load-module module-combine-sink'
alias uncombine-audio='pactl unload-module module-combine-sink'
